const iconMd5='d3d9446802a44259755d38e6d163e820'
window['url_whatsappIcons_'+iconMd5]='https://socialhub.pro'
var cssId='icons.css'
if(!document.getElementById(cssId)){var head=document.getElementsByTagName('head')[0]
var link=document.createElement('link')
link.id=cssId
link.rel='stylesheet'
link.type='text/css'
link.href=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/icones.css'
link.media='all'
head.appendChild(link)}
window.addEventListener('load',async()=>{try{const response=await fetch(window['url_whatsappIcons_'+iconMd5]+'/api/getWhatsappIconWithSellers?icon_md5='+iconMd5);if(!response.ok){throw new Error('Network response was no ok')}
const data=await response.text();const whatsappIcon=JSON.parse(data);const sellers=JSON.parse(data).whatsapp_sellers;const styleElement=document.createElement('link');styleElement.rel='stylesheet';styleElement.type='text/css';styleElement.href='https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700;900&display=swap';document.head.appendChild(styleElement)
const divButton=document.createElement('div');divButton.id='div-button';const textButton=document.createElement('div');textButton.id='text-button';textButton.innerHTML=`Fale agora no <span style='font-weight: bold'>WhatsApp</span>`;const whatsappButton=document.createElement('button');whatsappButton.id='whatsapp-button';whatsappButton.style.zIndex='99999';const whatsappLogo=document.createElement('img');whatsappLogo.id='whatsapp-button-logo';whatsappLogo.src=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/whatsapp.svg';whatsappButton.appendChild(whatsappLogo);divButton.appendChild(textButton)
divButton.appendChild(whatsappButton)
const whatsappUrl='https://api.whatsapp.com/send?phone=';let popupVisible=!1;const togglePopup=async()=>{if(popupVisible){document.getElementById('whatsapp-popup').remove();popupVisible=!1;textButton.style.display='block';whatsappLogo.classList.remove('girar-h');whatsappLogo.classList.add('girar-ah');whatsappLogo.src=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/whatsapp.svg'}else{try{whatsappLogo.classList.remove('girar-ah');whatsappLogo.classList.add('girar-h');textButton.style.display='none';setTimeout(()=>{whatsappLogo.src=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/close.svg'},200)
const response=await fetch(window['url_whatsappIcons_'+iconMd5]+'/api/addOneViewToWhatsappIcon/'+iconMd5,{method:'PUT',});if(!response.ok){throw new Error('Network response was not ok')}}catch(error){console.error('Error:',error)}
const popup=document.createElement('div');popup.id='whatsapp-popup';popup.style.zIndex='99999';sellers.forEach((seller)=>{const currentTime=parseInt(new Intl.DateTimeFormat('pt-BR',{timeZone:'America/Sao_Paulo',hour:'numeric',minute:'numeric'}).format(new Date()).replace(':',''));let timeFrom=0;let timeTo=0;if(seller.available_time){timeFrom=parseInt(seller.available_time.split('-')[0].replace(':',''));timeTo=parseInt(seller.available_time.split('-')[1].replace(':',''))}
if(timeFrom>timeTo){if(currentTime<timeFrom&&currentTime>timeTo){return}}else if(timeFrom<timeTo){if(currentTime<timeFrom||currentTime>timeTo){return}}
const cardButton=document.createElement('button');cardButton.id='card-button';cardButton.href=whatsappUrl+seller.phone+'&text='+encodeURIComponent(seller.message);const info=document.createElement('div');info.id='card-button-info';const text=document.createElement('div');text.id='card-button-text';const image=document.createElement('img');image.id='card-button-image'
if(seller.image){image.src=window['url_whatsappIcons_'+iconMd5]+'/external_files'+seller.image}else{image.src=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/no_profile_picture.png'}
const title=document.createElement('div');title.id='card-button-title';title.innerHTML=seller.name;const description=document.createElement('div');description.id='card-button-description';description.innerHTML=seller.description;if(seller.message===null){seller.message=' '}
const buttonLogo=document.createElement('img');buttonLogo.id='card-button-logo'
buttonLogo.src=window['url_whatsappIcons_'+iconMd5]+'/scripts/icons_whatsapp/assets/whatsapp.png';const isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!isMobileDevice){cardButton.href='https://web.whatsapp.com/send?'+cardButton.href.split('?')[1];cardButton.addEventListener('click',(event)=>{event.preventDefault();window.open(cardButton.href,'_blank')})}
cardButton.addEventListener('click',async(event)=>{event.preventDefault();event.stopPropagation();try{const response=await fetch(window['url_whatsappIcons_'+iconMd5]+'/api/createWhatsappClick',{method:'POST',headers:{'Content-Type':'application/json',},body:JSON.stringify({seller_id:seller.id,icon_id:whatsappIcon.id})});if(!response.ok){throw new Error('Network response was not ok')}
const data=await response.text()}catch(error){console.error('Error:',error)}});info.appendChild(image);text.appendChild(title);text.appendChild(description);info.appendChild(text);info.appendChild(buttonLogo)
cardButton.appendChild(info);popup.appendChild(cardButton)})
const advertisement=document.createElement('div');advertisement.id='popup-advertisement';advertisement.innerHTML=`<a id='advertisement-link' href='https://www.socialhub.pro/' target='_blank'><span style='font-weight: bold'>Utilize gratuitamente</span> | socialhub.pro</a>`;popup.appendChild(advertisement);document.body.appendChild(popup);popupVisible=!0}};let clicked=!1;whatsappButton.addEventListener('click',function(){if(!clicked){clicked=!0;setTimeout(function(){clicked=!1},1000);togglePopup()}});document.body.appendChild(divButton)}catch(error){console.error('Error:',error)}})